{"version":3,"file":"static/js/170.a31c0742.chunk.js","mappings":"oJAEA,MAAMA,EAAkB,CACtB,CAAEC,MAAO,mCAAWC,MAAO,SAAUC,OAAQ,MAC7C,CAAEF,MAAO,wCAAWC,MAAO,WAAYC,OAAQ,KAC/C,CAAEF,MAAO,wCAAWC,MAAO,SAAUC,OAAQ,IAqG/C,QAhGA,WACE,MAAOC,EAAgBC,IAAqBC,EAAAA,EAAAA,UAAS,WAC9CC,EAAcC,IAAmBF,EAAAA,EAAAA,UAAS,IAE3CG,EAAYA,KAAO,IAADC,EACtB,MAAuB,WAAnBN,EACKO,OAAOJ,IAAiB,GAE+B,QAAzDG,EAAAV,EAAgBY,MAAKC,GAAOA,EAAIX,QAAUE,WAAe,IAAAM,OAAA,EAAzDA,EAA2DP,SAAU,CAAC,EAG/E,SAASW,EAAmBX,GAAS,IAADY,EACbC,OAAOC,aAdR,wCAePC,eAAe,eAAM,CAChCf,SACAgB,QAAS,SAAWC,KAAKC,MACzBC,WAAoE,QAAzDP,EAAAf,EAAgBY,MAAKC,GAAOA,EAAIX,QAAUE,WAAe,IAAAW,OAAA,EAAzDA,EAA2Dd,QAAS,2BAC/EsB,aAAc,iCACdC,WAAYR,OAAOS,SAASC,OAAS,mBACrCC,QAASX,OAAOS,SAASC,OAAS,kBAEnCE,OAAM,SAAUC,GACI,gBAAfA,EAAMC,KACRC,MAAM,kEAENA,MAAM,6DAAkBF,EAAMG,QAElC,GACF,CAqBA,OACEC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yBAAyBC,MAAO,CAAEC,SAAU,IAAKC,OAAQ,YAAaC,QAAS,GAAIC,WAAY,OAAQC,aAAc,EAAGC,UAAW,8BAA+BC,SAAA,EAC/KC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,kKACJT,EAAAA,EAAAA,MAAA,OAAKE,MAAO,CAAES,aAAc,IAAKF,SAAA,CAC9B1C,EAAgB6C,KAAIhC,IACnB8B,EAAAA,EAAAA,KAAA,OAAqBR,MAAO,CAAES,aAAc,IAAKF,UAC/CT,EAAAA,EAAAA,MAAA,SAAAS,SAAA,EACEC,EAAAA,EAAAA,KAAA,SACEG,KAAK,QACLC,KAAK,gBACL7C,MAAOW,EAAIX,MACX8C,QAAS5C,IAAmBS,EAAIX,MAChC+C,SAAUA,IAAM5C,EAAkBQ,EAAIX,SAEvCW,EAAIZ,MACU,WAAdY,EAAIX,QACH+B,EAAAA,EAAAA,MAAA,QAAME,MAAO,CAAEe,WAAY,EAAGC,MAAO,QAAST,SAAA,CAAC,IAAE7B,EAAIV,OAAOiD,iBAAiB,iBAXzEvC,EAAIX,SAgBI,WAAnBE,IACCuC,EAAAA,EAAAA,KAAA,OAAKR,MAAO,CAAEkB,UAAW,GAAIX,UAC3BC,EAAAA,EAAAA,KAAA,SACEG,KAAK,SACLQ,IAAI,OACJC,KAAK,OACLC,YAAY,6DACZtD,MAAOK,EACP0C,SAAUQ,GAAKjD,EAAgBiD,EAAEC,OAAOxD,OACxCiC,MAAO,CAAEwB,MAAO,OAAQrB,QAAS,EAAGE,aAAc,EAAGoB,OAAQ,0BAKrEjB,EAAAA,EAAAA,KAAA,UACEkB,QAvDgBC,KACpB,MAAM3D,EAASM,IACf,IAAKO,OAAOC,aAAc,CAExB,MAAM8C,EAASC,SAASC,cAAc,UAUtC,OATAF,EAAOG,IAAM,yCACbH,EAAOI,OAAQ,EACfH,SAASI,KAAKC,YAAYN,GAC1BA,EAAOO,OAAS,KACdxD,EAAmBX,EAAO,OAE5B4D,EAAOQ,QAAU,KACfxC,MAAM,kKAAqC,EAG/C,CACAjB,EAAmBX,EAAO,EAwCtBgC,MAAO,CAAEwB,MAAO,OAAQrB,QAAS,GAAIC,WAAY,UAAWY,MAAO,OAAQS,OAAQ,OAAQpB,aAAc,EAAGgC,SAAU,GAAIC,OAAQ,WAClIC,SAAUjE,IAAc,IAAKiC,SAC9B,+BAMP,C","sources":["pages/PaymentPage.js"],"sourcesContent":["import React, { useState } from 'react';\n\nconst PAYMENT_OPTIONS = [\n  { label: '1개월 레슨비', value: 'lesson', amount: 160000 },\n  { label: '연습실 이용료', value: 'practice', amount: 10000 },\n  { label: '금액 직접입력', value: 'custom', amount: 0 },\n];\n\nconst TOSS_CLIENT_KEY = 'test_ck_GjLJoQ1aVZq1pAlkbomJ3w6KYe2R';\n\nfunction PaymentPage() {\n  const [selectedOption, setSelectedOption] = useState('lesson');\n  const [customAmount, setCustomAmount] = useState('');\n\n  const getAmount = () => {\n    if (selectedOption === 'custom') {\n      return Number(customAmount) || 0;\n    }\n    return PAYMENT_OPTIONS.find(opt => opt.value === selectedOption)?.amount || 0;\n  };\n\n  function requestTossPayment(amount) {\n    const tossPayments = window.TossPayments(TOSS_CLIENT_KEY);\n    tossPayments.requestPayment('카드', {\n      amount,\n      orderId: 'order_' + Date.now(),\n      orderName: PAYMENT_OPTIONS.find(opt => opt.value === selectedOption)?.label || '직접입력',\n      customerName: '테스트회원',\n      successUrl: window.location.origin + '/payment-success',\n      failUrl: window.location.origin + '/payment-fail',\n    })\n    .catch(function (error) {\n      if (error.code === 'USER_CANCEL') {\n        alert('결제가 취소되었습니다.');\n      } else {\n        alert('결제에 실패했습니다.\\n' + error.message);\n      }\n    });\n  }\n\n  const handlePayment = () => {\n    const amount = getAmount();\n    if (!window.TossPayments) {\n      // 스크립트가 없으면 동적으로 추가\n      const script = document.createElement('script');\n      script.src = 'https://js.tosspayments.com/v1/payment';\n      script.async = true;\n      document.body.appendChild(script);\n      script.onload = () => {\n        requestTossPayment(amount);\n      };\n      script.onerror = () => {\n        alert('결제 모듈을 불러오지 못했습니다. 잠시 후 다시 시도해주세요.');\n      };\n      return;\n    }\n    requestTossPayment(amount);\n  };\n\n  return (\n    <div className=\"payment-page-container\" style={{ maxWidth: 400, margin: '40px auto', padding: 20, background: '#fff', borderRadius: 8, boxShadow: '0 2px 8px rgba(0,0,0,0.08)' }}>\n      <h2>결제하기(시험중으로서 지금은 결제가 이루어지지 않습니다)</h2>\n      <div style={{ marginBottom: 24 }}>\n        {PAYMENT_OPTIONS.map(opt => (\n          <div key={opt.value} style={{ marginBottom: 12 }}>\n            <label>\n              <input\n                type=\"radio\"\n                name=\"paymentOption\"\n                value={opt.value}\n                checked={selectedOption === opt.value}\n                onChange={() => setSelectedOption(opt.value)}\n              />\n              {opt.label}\n              {opt.value !== 'custom' && (\n                <span style={{ marginLeft: 8, color: '#888' }}>({opt.amount.toLocaleString()}원)</span>\n              )}\n            </label>\n          </div>\n        ))}\n        {selectedOption === 'custom' && (\n          <div style={{ marginTop: 8 }}>\n            <input\n              type=\"number\"\n              min=\"9000\"\n              step=\"1000\"\n              placeholder=\"금액을 입력하세요 (원)\"\n              value={customAmount}\n              onChange={e => setCustomAmount(e.target.value)}\n              style={{ width: '100%', padding: 8, borderRadius: 4, border: '1px solid #ccc' }}\n            />\n          </div>\n        )}\n      </div>\n      <button\n        onClick={handlePayment}\n        style={{ width: '100%', padding: 12, background: '#007bff', color: '#fff', border: 'none', borderRadius: 4, fontSize: 16, cursor: 'pointer' }}\n        disabled={getAmount() < 9000}\n      >\n        결제하기\n      </button>\n      {/* 토스페이먼츠 결제 위젯은 결제 버튼 클릭 시 팝업으로 동작합니다. */}\n    </div>\n  );\n}\n\nexport default PaymentPage; "],"names":["PAYMENT_OPTIONS","label","value","amount","selectedOption","setSelectedOption","useState","customAmount","setCustomAmount","getAmount","_PAYMENT_OPTIONS$find","Number","find","opt","requestTossPayment","_PAYMENT_OPTIONS$find2","window","TossPayments","requestPayment","orderId","Date","now","orderName","customerName","successUrl","location","origin","failUrl","catch","error","code","alert","message","_jsxs","className","style","maxWidth","margin","padding","background","borderRadius","boxShadow","children","_jsx","marginBottom","map","type","name","checked","onChange","marginLeft","color","toLocaleString","marginTop","min","step","placeholder","e","target","width","border","onClick","handlePayment","script","document","createElement","src","async","body","appendChild","onload","onerror","fontSize","cursor","disabled"],"sourceRoot":""}